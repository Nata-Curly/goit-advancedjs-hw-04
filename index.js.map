{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '35898178-628df3d5ceb1661a68afdf1ae';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n\nfunction getPixabayPhotos(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`${BASE_URL}?${params}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n\nexport { getPixabayPhotos };","export default function createGalleryCard(cards) {\n  return cards\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" />\n    <div class=\"info\">\n         <p class=\"info-item\"><b>Likes</b> ${likes}</p>\n          <p class=\"info-item\"><b>Views</b> ${views}</p>\n          <p class=\"info-item\"><b>Comments</b> ${comments}</p>\n          <p class=\"info-item\"><b>Downloads</b> ${downloads}</p>\n          </div>\n  </a>\n</li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPixabayPhotos } from './js/pixabay-api';\nimport createGalleryCard from './js/render-functions';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionSelector: 'img',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  enableKeyboard: true,\n  animationSlide: true,\n  overlay: true,\n});\n\nconst searchForm = document.querySelector('.search-form');\nconst gallery = document.querySelector('.gallery');\n\nfunction loader() {\n  gallery.innerHTML = '<div class=\"loader\"></div>';\n}\n\nsearchForm.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const userQuery = form.elements.query.value.trim();\n\n  loader();\n\n  if (userQuery === '') {\n    form.reset();\n    iziToast.warning({\n      title: 'Warning',\n      message: 'You should enter something to start the search!',\n    });\n\n    return;\n  }\n\n  getPixabayPhotos(userQuery)\n    .then(data => {\n      if (data.total === 0) {\n        gallery.innerHTML = '';\n        iziToast.warning({\n          title: 'Warning',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      gallery.innerHTML = createGalleryCard(data.hits);\n      iziToast.success({\n        title: 'OK',\n        message: `Hooray! We found ${\n          data.totalHits\n        } photos of ${userQuery.trim()}.`,\n      });\n      lightbox.refresh();\n    })\n    .catch(err =>\n      iziToast.error({\n        title: 'Error',\n        message: err.message,\n      })\n    )\n    .finally(() => {\n      form.reset();\n    });\n}\n"],"names":["API_KEY","BASE_URL","getPixabayPhotos","query","params","res","createGalleryCard","cards","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightbox","SimpleLightbox","searchForm","gallery","loader","handleSearch","event","form","userQuery","iziToast","data","err"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAGjB,SAASC,EAAiBC,EAAO,CAC/B,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAO,CAChD,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CClBe,SAASC,EAAkBC,EAAO,CAC/C,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,kCACsBL,CAAa;AAAA,sCACTD,CAAY,UAAUE,CAAI;AAAA;AAAA,6CAEnBC,CAAK;AAAA,8CACJC,CAAK;AAAA,iDACFC,CAAQ;AAAA,kDACPC,CAAS;AAAA;AAAA;AAAA,MAItD,EACA,KAAK,EAAE,CACZ,CChBA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,gBAAiB,MACjB,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,GAChB,eAAgB,GAChB,QAAS,EACX,CAAC,EAEKC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAEjD,SAASC,GAAS,CAChBD,EAAQ,UAAY,4BACtB,CAEAD,EAAW,iBAAiB,SAAUG,CAAY,EAElD,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAYD,EAAK,SAAS,MAAM,MAAM,OAI5C,GAFAH,IAEII,IAAc,GAAI,CACpBD,EAAK,MAAK,EACVE,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,iDACf,CAAK,EAED,MACD,CAEDtB,EAAiBqB,CAAS,EACvB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBP,EAAQ,UAAY,GACpBM,EAAS,QAAQ,CACf,MAAO,UACP,QACE,0EACZ,CAAS,EACD,MACD,CACDN,EAAQ,UAAYZ,EAAkBmB,EAAK,IAAI,EAC/CD,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,oBACPC,EAAK,SACN,cAAaF,EAAU,KAAM,CAAA,GACtC,CAAO,EACDR,EAAS,QAAO,CACtB,CAAK,EACA,MAAMW,GACLF,EAAS,MAAM,CACb,MAAO,QACP,QAASE,EAAI,OACrB,CAAO,CACF,EACA,QAAQ,IAAM,CACbJ,EAAK,MAAK,CAChB,CAAK,CACL"}